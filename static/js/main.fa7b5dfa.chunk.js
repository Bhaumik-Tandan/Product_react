(this.webpackJsonpproduct=this.webpackJsonpproduct||[]).push([[0],{17:function(t,e,r){},18:function(t,e,r){},19:function(t,e,r){"use strict";r.r(e);var n=r(1),c=r.n(n),a=r(9),s=r.n(a),i=r(2),u=r.n(i),o=r(4),d=r(6);function j(t,e,r){return t=JSON.stringify(t),fetch("https://product-task-bhaummik-tandan.herokuapp.com/"+r,{method:e,body:t,headers:{"Content-Type":"application/json"}})}function b(t,e){return l.apply(this,arguments)}function l(){return l=Object(o.a)(u.a.mark((function t(e,r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={},e.forEach((function(t){var e={name:t.name,quantity:t.quantity,productId:t.productId,orderId:t.orderId,status:t.status,orderDate:t.createdAt};n.hasOwnProperty(t.customerId)?n[t.customerId].push(e):n[t.customerId]=[e]})),r(n);case 3:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}var x=r(0),h=c.a.createContext();function O(){return Object(n.useContext)(h)}var p=function(t){var e=t.children,r=Object(n.useState)(0),c=Object(d.a)(r,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){function t(){return t=Object(o.a)(u.a.mark((function t(){var e,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(void 0,"GET","orders");case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.next=8,b(r,s);case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(x.jsx)(h.Provider,{value:a,children:e})},f=c.a.createContext();var v=c.a.createContext();var m=function(t){var e=t.children,r=Object(n.useState)("0"),c=Object(d.a)(r,2),a=c[0],s=c[1];return Object(x.jsx)(v.Provider,{value:function(t){s(t)},children:Object(x.jsx)(f.Provider,{value:a,children:e})})};var y=function(t){var e=Object(n.useContext)(v);return Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsxs)("center",{children:[" ",Object(x.jsxs)("select",{onChange:function(t){return e(t.target.value)},children:[Object(x.jsx)("option",{value:"0",children:"Choose Customer"}),t.customers.map((function(t){return Object(x.jsxs)("option",{value:t,children:["Customer Id ",t]},t)}))]})]})]})};var C=function(){var t=O();return Object(x.jsx)("div",{children:Object(x.jsx)(y,{customers:Object.keys(t)})})},I=r(21);var k=function(t){var e=Object(n.useState)(t.status),r=Object(d.a)(e,2),c=r[0],a=r[1];function s(){return(s=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a("Confirmed"),e.next=3,j({status:"Confirmed"},"PATCH","orders/"+t.orderId);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsx)("div",{children:"Confirmed"==c?Object(x.jsx)(x.Fragment,{children:"Confirmed"}):Object(x.jsx)("button",{onClick:function(){return s.apply(this,arguments)},children:"Confirm"})})};var w=function(t){var e=Object(n.useState)(t.quantity),r=Object(d.a)(e,2),c=r[0],a=r[1];function s(){return(s=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a((function(t){return t+1})),e.next=3,j({quantity:c+1},"PATCH","orders/"+t.orderId);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a((function(t){return t-1})),e.next=3,j({quantity:c-1},"PATCH","orders/"+t.orderId);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{onClick:function(){return s.apply(this,arguments)},children:"+"}),c,Object(x.jsx)("button",{onClick:function(){return i.apply(this,arguments)},children:"-"})]})};var T=function(t){var e=t.data;return Object(x.jsx)("div",{children:Object(x.jsx)(I.a,{style:{width:"18rem"},children:Object(x.jsxs)(I.a.Body,{children:[Object(x.jsx)(I.a.Title,{children:e.name}),Object(x.jsxs)(I.a.Subtitle,{className:"mb-2 text-muted",children:["Order Id ",e.orderId]}),Object(x.jsx)(I.a.Text,{children:Object(x.jsx)("center",{children:Object(x.jsx)(w,{orderId:e.orderId,quantity:e.quantity})})}),Object(x.jsx)(I.a.Text,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Product Id: "}),e.productId]})}),Object(x.jsx)(I.a.Text,{children:Object(x.jsxs)("center",{children:[" ",Object(x.jsx)(k,{status:e.status,orderId:e.orderId})]})})]})})})};r(17);var g=function(){var t=O(),e=Object(n.useContext)(f);return"0"==e?"":Object(x.jsx)("center",{className:"grid-container",children:t[e].map((function(t,e){return Object(x.jsx)(T,{data:t},e)}))})},P=r(10),q=r.n(P);r(18);var S=function(t){return Object(x.jsxs)("div",{className:"loading",children:[Object(x.jsx)(q.a,{type:"spokes",color:"red"}),Object(x.jsx)("div",{children:t.text})]})};var A=function(){var t=O();return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(p,{children:0==t?Object(x.jsx)(S,{text:"Loading Data"}):Object(x.jsxs)(m,{children:[Object(x.jsx)(C,{}),Object(x.jsx)(g,{})]})})})};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(A,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.fa7b5dfa.chunk.js.map